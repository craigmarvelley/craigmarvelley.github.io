
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Craig Marvelley</title>
  <meta name="author" content="Craig Marvelley">

  
  <meta name="description" content="I love podcasts. Since I moved house and gained a commute I&rsquo;ve whiled away the time to and from work listening to The Talk Show, The Record, &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://marvelley.com">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Craig Marvelley" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-1845487-3']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Craig Marvelley</a></h1>
  
    <h2>Software and such</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:marvelley.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/06/09/never-out-of-beta-returns/">Never Out of Beta Returns!</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-06-09T14:26:18+00:00" pubdate data-updated="true">Jun 9<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I love podcasts. Since I moved house and gained a commute I&rsquo;ve whiled away the time to and from work listening to <a href="http://daringfireball.net/thetalkshow/">The Talk Show</a>, <a href="http://therecord.co">The Record</a>, <a href="http://www.theguardian.com/football/series/footballweekly">The Guardian&rsquo;s Football Weekly</a>, and a couple of other great shows. Enough that I&rsquo;m barely able to listen to them all. They made me pine for <a href="http://www.neveroutofbeta.com">Never Out Of Beta</a> though, a podcast <a href="https://twitter.com/gavD_UK">Gav</a> and <a href="https://twitter.com/handybitesize">Carey</a> started a couple of years ago that I and a few friends would guest on, which was great fun.</p>

<p>But my longing is over &ndash; Gav and I have rebooted the show, and the <a href="https://soundcloud.com/never-out-of-beta/episode-0-2-1-its-not-in-my">first episode is available now</a> via Soundcloud!</p>

<p>A couple of notes:</p>

<ul>
<li>Production &ldquo;issues&rdquo; (well, I forgot a bunch of audio equipment) meant that we had to record this one via my Macbook&rsquo;s built in microphone. It turned out ok, but we&rsquo;ve got higher standards which hopefully we&rsquo;ll get closer to next time</li>
<li>It took longer than I&rsquo;d have liked to get the episode out because I&rsquo;m learning the ropes when it comes to editing. The WWDC stuff is a bit old hat now, but get past that and I think there&rsquo;s some interesting discussion around the DevOps mindset and provisioning with Ansible</li>
<li>An iTunes feed is coming as soon as I can sort one out &ndash; I listen to podcasts through the Apple Podcast app so I&rsquo;m eager to make it available there</li>
<li>Inspired by The Talk Show&rsquo;s recent switch we&rsquo;re hosting the show on SoundCloud, which has been perfect so far</li>
</ul>


<p>As with pretty much everything else Gav and I do, it might take a few iterations before this is something we&rsquo;re really happy with, and feedback to aid us in getting there will be very much appreciated.</p>

<p>If you like tech, you might like this. Check it out!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/04/23/handling-interactive-ansible-tasks/">Handling Interactive Ansible Tasks</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-04-23T09:40:10+00:00" pubdate data-updated="true">Apr 23<span>rd</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I recently re-ran some Ansible provisioning scripts after upgrading the
base box to an Ubuntu 14.04 image and found they stalled midway through. The cause? One
task involved installing the PECL mongo module, and the installation process now prompts
the user to decide whether or not to build with Cyrus SASL support. I couldn&rsquo;t see a way to force
a decision via the PECL installer, and Ansible can&rsquo;t
respond to the prompt, so the provisioning process hung while awaiting an answer.</p>

<p>I found two ways to solve this.</p>

<h2>I&rsquo;ve been expecting you</h2>

<p>I did a bit of Googling and after coming across <a href="https://groups.google.com/forum/#!topic/ansible-project/pMy2VWgkQ1s">this post</a>
on the Ansible forum, I took a look at <a href="http://linux.die.net/man/1/expect">expect</a>. Expect lets you
script interactions with a spawned command, using regex to match against prompt text, and send
appropriate responses. It&rsquo;s a sound approach; I wrote a script that looked like this:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>#!/usr/bin/expect
</span><span class='line'>
</span><span class='line'>spawn pecl install mongo
</span><span class='line'>
</span><span class='line'>expect "Build with Cyrus SASL"
</span><span class='line'>send "\r"
</span><span class='line'>
</span><span class='line'>expect eof</span></code></pre></td></tr></table></div></figure>


<p>And executed it on the box using Ansible&rsquo;s <code>script</code> module:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>- name: Install PECL mongo extension
</span><span class='line'>  script: install_pecl_mongo.expect</span></code></pre></td></tr></table></div></figure>


<p>Mission achieved. I felt very pleased with myself for about 30 seconds, which is
how long it took for Paul to wander over and tell me there was a simpler way to do it.
Expect is a really good solution for scripting varied or complex responses, but I wasn&rsquo;t
faced with that problem here&hellip;</p>

<h2>Yes man</h2>

<p>In this specific case, all I wanted to do was answer a prompt which needed a yes or no
answer, and I wasn&rsquo;t concerned which I went with. There&rsquo;s a linux command
called <a href="http://en.wikipedia.org/wiki/Yes_(Unix">yes</a> which &ldquo;outputs an affirmative response,
or a user-defined string of text continuously until killed&rdquo;, which is just what I needed.</p>

<p>So now my task looks like this:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>- name: Install PECL mongo extension
</span><span class='line'>  shell: yes '' | pecl install mongo</span></code></pre></td></tr></table></div></figure>


<p>Which continuously pipes the &lsquo;y&rsquo; character (by default) and a newline character into
the install command, automatically causing any prompts to be responded to in the
affirmative. For my simple use case it works perfectly, and is more straightforward than
writing expect scripts.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/04/11/local-provisioning-with-ansible/">Local Provisioning With Ansible</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-04-11T21:24:00+00:00" pubdate data-updated="true">Apr 11<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I recently <a href="http://marvelley.com/blog/2014/03/18/vagrant-1-dot-5-syncing-situation/">mentioned</a>
I&rsquo;m going all-in on provisioning and running all my development
environments in VMs provisioned with Ansible. My Ansible use doesn&rsquo;t end there though &ndash;
I&rsquo;m also using it to provision my MacBook.</p>

<p>I&rsquo;d read of a few other people doing this &ndash; Benjamin Eberlei has a particularly
<a href="http://whitewashing.de/2013/11/19/setting_up_development_machines_ansible_edition.html">good post</a>
on the topic, and was pretty much the inspiration for me doing the
same. Setting up a new machine can be a bit of a bore, and while in theory it
only happens whenever I upgrade hardware I have been caught out in the past with kernel
corruption forcing a reinstall, and I&rsquo;d like
to minimise the hassle should it ever happen again. I have <a href="http://backblaze.com">backups</a>
, but one of the few upsides of going back to scratch with a machine is that it&rsquo;s an
opportunity for spring clean; a script that effectively lists all the essential
components of my computer, and configures them to my taste, makes that so much easier.</p>

<p>Anyway. A couple of people mentioned they&rsquo;d be interested in the playbooks I wrote
to provision my laptop, so I&rsquo;ve taken out anything personal to me and <a href="https://github.com/craigmarvelley/macbook-provisioning">mirrored them
on Github</a>.</p>

<p>Currently the provisioning involves four things:</p>

<ul>
<li>Install Homebrew and various brews</li>
<li>Install Homebrew Casks and various casks</li>
<li>Enable zsh as default shell and install oh-my-zsh</li>
<li>Install dotfiles to configure git, vim, etc. (my dotfiles repo is <a href="https://github.com/craigmarvelley/dotfiles">here</a>)</li>
</ul>


<p>It&rsquo;s all straightforward, but a couple of implementation details:</p>

<ul>
<li>I&rsquo;ve ended up using Alfred as my OS X search tool because I store my casks under <code>/usr/local</code>
with the other brew stuff and symlink to /Applications, and Spotlight doesn&rsquo;t
grok symlinks. Instead I configure Alfred to link in the cask files</li>
<li>I read on a few places on the web that the method I use to determine my current shell
process &ndash; <code>echo $SHELL</code> &ndash; isn&rsquo;t foolproof. Works for me, but YMMV</li>
</ul>


<p>There&rsquo;s more I could do in terms of what I manage, especially when it comes to
dotfile configuration (incidentally one of the best things about automating
provisioning in this way is you end up looking at other people&rsquo;s approaches,
and finding out about libraries and tools that you never even knew existed &ndash; <a href="http://robots.thoughtbot.com/rcm-for-rc-files-in-dotfiles-repos">Thoughtbot&rsquo;s rcm</a>
is one such example here).
Also I&rsquo;m still finding my way with Ansible, so my playbooks can undoubtedly be improved, especially
when it comes to idempotency.
Nevertheless I&rsquo;m really happy to have a record of my machine&rsquo;s starting state, and will enjoy adding to it as time
passes.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/03/18/vagrant-1-dot-5-syncing-situation/">Vagrant 1.5 Syncing Situation</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-03-18T09:39:02+00:00" pubdate data-updated="true">Mar 18<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img src="/images/posts/2014/03/synchronised.jpg" alt="image" /></p>

<p>When starting work at <a href="http://www.bipsync.com">BipSync</a> I resolved to put the bits
and bobs I&rsquo;d learned about provisioning with Vagrant and Ansible into practice, and
no longer host development environments locally on my MacBook. The reasons were
twofold &ndash; firstly I wanted my development environment to mirror that
of live as closely as possible, and secondly when previously hosting multiple,
complex projects on one machine I experienced increased battery drain and frequent
slowdowns caused by active background services that I often didn&rsquo;t even need for my current
task. It was a pain to keep track of everything, especially when multiple versions
were required. So the attraction of having dev environments I could bring up and down, and if
necessary occasionally trash, was a strong one.</p>

<p>I&rsquo;d played with Vagrant / VirtualBox hosted projects on smallish codebases before,
where the default VirtualBox synced folder support was sufficient; however when
attempting to host and develop BipSync&rsquo;s sizeable applications it was quickly clear
that this combination wouldn&rsquo;t be fast enough to be fit for purpose.</p>

<p>Since VirtualBox has been <a href="http://puppetlabs.com/blog/new-vmware-provider-gives-vagrant-a-boost">acknowledged</a>
as the slowest of Vagrant&rsquo;s provider options, and we already had Parallels
licences for the development of our Windows applications, next I tried out the
third party <a href="https://github.com/Parallels/vagrant-parallels">Parallels plugin for Vagrant</a>.
Basically this was a non-starter &ndash; I immediately ran into bugs that were present in the project&rsquo;s
issue tracker, and the impression I got was that the plugin is still a work-in-progress.
The plugin is overseen by Parallels so I&rsquo;m optimistic that it&rsquo;ll one day be a
first-class provider, but as it was it was unusable.</p>

<p>So I went back to VirtualBox (VMWare was another option but before forking out money on the
software and accompanying plugin I wanted to exhaust all other options) and tried the other
synced folder types. First I tried the new rsync support, which I&rsquo;d <a href="https://www.vagrantup.com/blog/feature-preview-vagrant-1-5-rsync.html">read good things
about</a>. In terms of speed this was very quick because there isn&rsquo;t really a share to speak
of; shared items are copied to the guest rather than mounted. It requires a command
to be run constantly, to watch synced files for changes and copy them to the guest, and
this proved to be a problem; as <a href="https://github.com/mitchellh/vagrant/issues/3249">issues raised</a>
by others attest, the approach wasn&rsquo;t scaling to large (20k+ files) codebases, which
is common in my experience. I tried excluding some folders to see if that would help,
but it didn&rsquo;t.</p>

<p>So after all that I ended up using the NFS sync option, which aside from requiring
a password for sudo when booting the VM has proved trouble free, so far. Performance
is good, both in terms of the applications themselves, and when browsing and modifying files
in the share; I&rsquo;ve seen PHPStorm occasionally lock up but then it always has ;) It&rsquo;s
certainly good enough to work with now, and I&rsquo;ll be keeping an eye on the rsync and Parallels
options as they should improve in time.</p>

<p>(&ldquo;Moonlight Synchro&rdquo; image courtesy of <a href="http://www.flickr.com/photos/72562013@N06/12765457844/">Chris Phutully</a>. <a href="https://creativecommons.org/licenses/by/2.0/">See license</a>.)</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/03/06/goodbye-box-uk-hello-bipsync/">Goodbye Box UK, Hello BipSync</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-03-06T23:08:01+00:00" pubdate data-updated="true">Mar 6<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>For the last 7 years I consider myself lucky to have been employed by Box UK. When I joined in 2007 I&rsquo;d spent the previous 3 years writing what I consider &lsquo;despite software&rsquo;. Software that did its job despite the efforts of the developer behind it. I was guilty of pretty much every bad practice at some stage; a direct result of me being the sole developer within both my company and my social circles. I didn&rsquo;t know better and had no-one to tell me otherwise, but by 2007 I knew I needed to address that by working for a company in which there were lots of people smarter and more experienced than me. To &ldquo;aim to be the dumbest person in the room&rdquo;, as it&rsquo;s often put &ndash; and never better than by my colleague and mentor at Box UK, <a href="http://twitter.com/handybitesize">Carey Hiles</a>, <a href="http://vimeo.com/37279704">speaking about being a lone coder</a> in the first <a href="http://unifieddiff.co.uk">Unified Diff</a> meetup put on several years later.</p>

<p>My first assignment at Box UK was making some tweaks to a web form on <a href="http://www.prometheanworld.com/gb/english/education/home/">Promethean&rsquo;s</a> e-commerce site. My last assignment was rearchitecting the technology behind <a href="http://www.careerswales.com">careerswales.com</a>, a multi-application portal serving millions of users, which is destined to help shape lives of the people of Wales for years to come. In between I&rsquo;ve created mobile applications, written web services, ported databases, implemented designs, discovered search platforms, pushed to queues, knocked out specifications, made many a calculation and finally &ndash; finally &ndash; got to grips with git. I&rsquo;ve taught schoolchildren how to code. I&rsquo;ve also shared more in-jokes than you could shake a stick at. Seriously.</p>

<p>As a software developer, I can&rsquo;t think of a better place to learn one&rsquo;s trade; every couple of months a new project comes along which will either improve existing skills, or demand new ones. Through the work that I&rsquo;ve done there I&rsquo;ve had the opportunity to travel the world, meet heroes, and <a href="http://www.youtube.com/watch?v=g2f_BzKrpaU&amp;list=PLo7mBDsRHu11HSkEucxDIAxeBZUJp10Jn&amp;index=5">speak at conferences</a>. My colleagues have been everything I&rsquo;d hoped they&rsquo;d be &ndash; smart, friendly, and more than happy to help. Most importantly, they&rsquo;re passionate. Box UK have aimed to only hire those who care about the work they do, and that&rsquo;s clearly reflected in what we&rsquo;ve achieved.</p>

<p>TL/DR: I&rsquo;ve had an amazing job these last 7 years, and have loved every single minute of it.</p>

<p>After seven years I&rsquo;m ready for a new challenge, and a wonderful opportunity at a startup called <a href="http://bipsync.com">BipSync</a> means it&rsquo;s time to move on. I&rsquo;ll be working with some former colleagues on some exciting software in a domain that&rsquo;s fresh and interesting. I can&rsquo;t wait to get stuck in, and hopefully share my experiences. I&rsquo;d like to thank all at Box UK, especially Benno and those with whom I worked closely with over the years, for all the opportunities I was given and the experiences I&rsquo;ve had. You&rsquo;ve undoubtedly made me a better person, and I wish you all the best for the future.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/02/17/restore-missing-audio-in-imovie-for-mac/">Restore Missing Audio in iMovie for Mac</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-02-17T08:45:26+00:00" pubdate data-updated="true">Feb 17<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img src="http://farm1.staticflickr.com/169/414411019_e702aa6d54_o.jpg" alt="image" /></p>

<p>I recently got a new Macbook (running Mavericks) and wanted to transfer the iMovie projects from my older machine (running Mountain Lion). The new machine featured the most recent version of iMovie (iMovie for Mac, version 10.0.2) while my old one was on 9.0.9.</p>

<p>I loaded the projects into iMovie for Mac by copying over the <code>iMovie Events</code>, <code>iMovie Original Movies</code> and <code>iMovie Projects</code> folders via AirDrop. Upon starting iMovie for Mac it prompted me to upgrade my projects to the new format. After some time a dialog appeared notifying me that some events had not been found, and that the upgrade had not been successful.</p>

<p>It turned out that the movie events were fine, but the background audio I&rsquo;d added (via iTunes) was missing because I&rsquo;d not copied over my iTunes folder (and hadn&rsquo;t planned to, since I now use iTunes in the Cloud). Attempting to open a ported project gave me a dialog along the lines of &lsquo;Upgrade now, with missing events, or upgrade later&rsquo; &ndash; the choice was inconsequential since even by choosing &lsquo;Upgrade later&rsquo; before putting the tracks in the places they were expected before opening the movie, the movie didn&rsquo;t seem to pick up on the fact that they were now there. The waveforms remained blank, and the audio didn&rsquo;t play. Of course, in most cases I didn&rsquo;t even know which files were missing because most of these movies were put together months ago.</p>

<p>I eventually fixed it by painstakingly downloading and importing each audio track into the movie alongside the original clip, which triggered a reload of the original. Then the second clip could be removed, leaving the original which now played. It would be nice if iMovie for Mac had a &lsquo;reload all events in this movie&rsquo; feature (perhaps it does, and I couldn&rsquo;t find it &ndash; I&rsquo;ve never found iMovie to have the most intuitive of interfaces)&ndash; thankfully I only had 20 or so tracks to fix, but for some more hardcore users it could be a lot worse.</p>

<p>(Waveform image copyright <a href="http://www.flickr.com/photos/topgold/414411019/">Bernard Goldbach</a>)</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/02/14/understanding-dns/">Understanding DNS</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-02-14T09:53:02+00:00" pubdate data-updated="true">Feb 14<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I&rsquo;ve never really taken the time to read up on how DNS works. Ten years of web development mean I&rsquo;ve gradually assumed a pretty good idea through trial and error, but I&rsquo;ve never really felt 100% confident that I know what I&rsquo;m doing when registering and administering domain names, particularly when it comes to more obscure record types like <a href="http://www.zytrax.com/books/dns/ch9/spf.html">SPF</a>. Things work, but I don&rsquo;t <em>really</em> know why.</p>

<p>I was shopping for a domain name the other day and while on the DNSimple website I was invited to receive a series of emails that offered to outline the DNS basics. I batted away my initial reluctance to sign myself up for spam, and I&rsquo;m glad I did &ndash; the lessons are nicely written, short and to the point, and thankfully aren&rsquo;t just an excercise in advertising for the registrar. I&rsquo;ve learned a couple things and reinforced my knowledge of others. I can&rsquo;t find a signup link now, but I do recommend them to anyone who wants to learn more about DNS.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2014/02/04/box-uk-has-an-engineering-blog/">Box UK Has an Engineering Blog</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-02-04T07:53:34+00:00" pubdate data-updated="true">Feb 4<span>th</span>, 2014</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I&rsquo;ve always enjoyed reading <a href="http://en.wikipedia.org/wiki/Microblogging">microblogs</a> like <a href="http://daringfireball.net/">Daring Fireball</a> which briefly editorialise links to content elsewhere on the web &ndash; it&rsquo;s like &ldquo;Here&rsquo;s something interesting, here&rsquo;s some perspective on it, now go read it.&rdquo;. While we&rsquo;ve had a blog on the Box UK website for some time, the format of it has been very much long-form. While that means we produce lots of in depth, informative content, the downside is because it can take a while to turn posts around the blog doesn&rsquo;t suit snappy, quick posts in the microblog style.</p>

<p>Internally, we&rsquo;re always sharing links to posts or videos in <a href="https://www.hipchat.com/">HipChat</a> &ndash; stuff that&rsquo;s relevant to our day-to-day work, stuff that could be useful to us in future, that sort of thing. For a while it&rsquo;s been on our roadmap to introduce a microblog on the <a href="http://www.boxuk.com/">Box UK website</a>, and now we have &ndash; last week we lauched the <a href="http://www.boxuk.com/developer-blog/">Box UK developer blog</a>. We&rsquo;ve already had posts on varied topics like SSH, Objective-C, Vim and Amazon S3. Keep an eye on it!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2013/09/26/including-filtered-thumbnail-data-with-the-wordpress-json-api-plugin/">Including Filtered Thumbnail Data With the WordPress JSON API Plugin</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-09-26T00:00:00+00:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>The <a href="http://wordpress.org/plugins/json-api/">JSON API</a> plugin is a great tool for exposing your WordPress data. I&#8217;ve used it to provide content to a few mobile applications; it&#8217;s well featured and most importantly, quite flexible. If your content providers are happiest using a CMS like WordPress, your project can benefit by allowing them to use the authoring tools they&#8217;re comfortable with while allowing you to easily access the content they&#8217;re creating, either to use directly within your application, or as I tend to do, by exporting the data into another application which then proxies the data to mobile applications. I find the latter approach gives you greater control over features like caching, while making it easier to relate the data to domain models that aren&#8217;t handled by WordPress.</p>

<p>But I digress! This post was conceived because when requesting all posts of a certain type through the plugin, response times were hideously slow. The request I was making looked like this:</p>

<p><a href="http://domain.com/?json=get_posts&amp;post_type=artist&amp;count=1000&amp;order=ASC">http://domain.com/?json=get_posts&amp;post_type=artist&amp;count=1000&amp;order=ASC</a></p>

<p>Reading the documentation for the plugin, I found that it was possible to filter the response to only contain properties that I wanted, which I figured should reduce the amount of work WordPress was having to do:</p>

<p><a href="http://domain.com/?json=get_posts&amp;post_type=artist&amp;count=2&amp;order=ASC&amp;include=id,title,content,custom_fields,thumbnail_images">http://domain.com/?json=get_posts&amp;post_type=artist&amp;count=2&amp;order=ASC&amp;include=id,title,content,custom_fields,thumbnail_images</a></p>

<p>This proved to be true, but I hit a snag when trying to include the thumbnail_images property &#8211; adding it to the CSV of whitelisted fields had no effect. Through trial and error it transpired that including the thumbnail field also has the effect of including the thumbnail, thumbnail_size, and thumbnail_images fields. The final URL ended up looking like this:</p>

<p><a href="http://domain.com/?json=get_posts&amp;post_type=artist&amp;count=2&amp;order=ASC&amp;include=id,title,content,custom_fields,thumbnail">http://domain.com/?json=get_posts&amp;post_type=artist&amp;count=2&amp;order=ASC&amp;include=id,title,content,custom_fields,thumbnail</a></p>

<p>Problem solved!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2013/01/06/on-incremental-improvement/">On Incremental Improvement</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-01-06T00:00:00+00:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Twice today I&#8217;ve seen references to the benefits of iterative improvement, and I found that the topic resonated with me. At the moment I&#8217;m halfway though a pretty lengthy software project in which it&#8217;s sometimes hard to see the wood for the trees. The backlog is substantial, resulting in a hefty set of tasks for our team. In these situations, where the to-do list doesn&#8217;t seem to change day to day, it&#8217;s easy to feel crippled by inertia. However, these two references illustrate that we can succeed provided we ensure we&#8217;re making healthy, gradual progress.</p>

<p>One might expect that the references I&#8217;m alluding to originate from a tome of software development, like &#8220;<a href="http://pragprog.com/the-pragmatic-programmer">The Pragmatic Programmer</a>&#8220;, or from one of the many celebrated development gurus of Twitter, but in fact they are not directly concerned with software at all. The first comes from <a href="http://www.youtube.com/watch?v=7GHhmgZ0BwQ" title="The Undercover Economist Tim Harford: Full talk from Wired 2012">a talk discussing the pros and cons of iterative improvement</a> , linked to by my colleague (and all-round good chap) <a href="https://twitter.com/owenphelps" title="Owen Phelps' Twitter">Owen Phelps</a>, by Tim Harford at last year&#8217;s Wired UK conference:</p>

<blockquote><p>If you put together enough marginal improvements, in enough areas, you get something that&#8217;s truly outstanding.</p></blockquote>

<p>Give it a watch &#8211; it&#8217;s entertaining and informative.</p>

<p>The second reference came from an altogether different source &#8211; <a href="http://www.soundonsound.com/sos/jan13/articles/it-0113.htm" title="Alan Moulder: Sound on Sound January 2012">an interview with renowned mix engineer Alan Moulder</a> in this month&#8217;s issue of Sound on Sound magazine, in which he discusses his approach when applying VST plugins to his music projects:</p>

<blockquote><p>All the things I use do something to make the sound a tiny bit better, and if  you add everything together, the end result will be a lot better&#8230; It&#8217;s simple: better is better, whether it&#8217;s a tiny bit better or a lot better.</p></blockquote>

<p>Through never-ending sprints, features and tasks, iterative improvement is something all development teams should strive to achieve.</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/2/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/06/09/never-out-of-beta-returns/">Never Out of Beta Returns!</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/04/23/handling-interactive-ansible-tasks/">Handling Interactive Ansible Tasks</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/04/11/local-provisioning-with-ansible/">Local Provisioning With Ansible</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/03/18/vagrant-1-dot-5-syncing-situation/">Vagrant 1.5 Syncing Situation</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/03/06/goodbye-box-uk-hello-bipsync/">Goodbye Box UK, Hello BipSync</a>
      </li>
    
  </ul>
</section>



<section class="googleplus googleplus-hidden">
  <h1>
    <a href="https://plus.google.com/113573941679447813594?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>



  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Craig Marvelley -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'craigmarvelley';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
